<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LQ45 Stock Portfolio</title>
    <meta name="description" content="Track your Indonesian stock investments">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: "#1e40af",
                        secondary: "#1e3a8a",
                        profit: "#10b981",
                        loss: "#ef4444"
                    }
                }
            }
        }
    </script>
</head>
<body class="min-h-screen bg-gray-50">
    <header class="bg-white shadow-sm">
        <div class="container mx-auto px-4 py-6">
            <div class="flex justify-between items-center">
                <div>
                    <h1 class="text-2xl font-bold text-primary">Indonesia Stock Portfolio</h1>
                    <p class="text-gray-600">Track your investments in IDX</p>
                </div>
                <div class="text-right">
                    <p class="text-sm text-gray-500">Total Portfolio Value</p>
                    <p class="text-xl font-semibold">Rp <span id="totalPortfolioValue">125,450,000</span></p>
                </div>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8">
        <!-- Capital Growth Section -->
        <div class="bg-white rounded-lg shadow-md overflow-hidden mb-8">
            <div class="p-6 border-b border-gray-200">
                <h2 class="text-xl font-semibold text-gray-800">Capital Growth</h2>
            </div>
            <div class="p-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div>
                        <div class="flex justify-between items-center mb-4">
                            <div>
                                <p class="text-sm text-gray-600">Starting Capital</p>
                                <p class="text-xl font-bold">Rp 200,000,000</p>
                            </div>
                            <div class="text-right">
                                <p class="text-sm text-gray-600">Current Value</p>
                                <p class="text-xl font-bold">Rp <span id="currentCapitalValue">125,450,000</span></p>
                            </div>
                        </div>
                        <div class="h-64">
                            <canvas id="capitalGrowthChart"></canvas>
                        </div>
                    </div>
                    <div>
                        <div class="space-y-4">
                            <div>
                                <p class="text-sm text-gray-600">Time Period</p>
                                <p class="text-xl font-bold">12 weeks</p>
                            </div>
                            <div>
                                <p class="text-sm text-gray-600">Weekly Growth Rate</p>
                                <p class="text-xl font-bold text-loss">-3.11%</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mini Landing Page Section -->
        <div class="bg-white rounded-lg shadow-md overflow-hidden mb-8">
            <div class="p-6">
                <h2 class="text-xl font-semibold text-gray-800 mb-4">My Trading Strategy</h2>
                <div class="prose max-w-none">
                    <p>Welcome to my LQ45 stock portfolio tracker. I trade only LQ45 stocks using a <strong>trend following</strong> strategy, focusing on stocks which breaks 200 day high prices.</p>
                    <p>This portfolio will be actively managed for the next <strong>52 weeks</strong> (1 year), after which I'll evaluate performance and decide on continuation. My approach combines:</p>
                    <ul class="list-disc pl-5">
                        <li>No perfect entry/exit points</li>
                        <li>No added fundamental nor technical. 100% following the trends</li>
                        <li>Risk management through position sizing. Will add more position with calculated and educated risk</li>
                    </ul>
                    <p class="mt-2">All trades are executed on the Indonesia Stock Exchange (IDX) during regular trading hours.</p>
                </div>
            </div>
        </div>

        <!-- Portfolio Summary Section -->
        <div class="bg-white rounded-lg shadow-md overflow-hidden mb-8">
            <div class="p-6 border-b border-gray-200">
                <h2 class="text-xl font-semibold text-gray-800">Portfolio Summary</h2>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6 p-6">
                <div class="bg-blue-50 p-4 rounded-lg">
                    <p class="text-sm text-gray-600">Total Investment</p>
                    <p class="text-2xl font-bold">Rp <span id="totalInvestment">216,046,582</span></p>
                </div>
                <div class="bg-green-50 p-4 rounded-lg">
                    <p class="text-sm text-gray-600">Current Value</p>
                    <p class="text-2xl font-bold">Rp <span id="currentValue">198,638,310</span></p>
                </div>
                <div class="bg-green-50 p-4 rounded-lg">
                    <p class="text-sm text-gray-600">Total Profit</p>
                    <p class="text-2xl font-bold text-profit">Rp <span id="totalProfit">17,443,082</span></p>
                </div>
                <div class="bg-blue-50 p-4 rounded-lg">
                    <p class="text-sm text-gray-600">Return (%)</p>
                    <p class="text-2xl font-bold text-profit">+<span id="returnPercent">-8,17</span>%</p>
                </div>
            </div>
        </div>

        <!-- Stock Holdings Section -->
        <div class="bg-white rounded-lg shadow-md overflow-hidden mb-8">
            <div class="p-6 border-b border-gray-200">
                <h2 class="text-xl font-semibold text-gray-800">Stock Holdings</h2>
            </div>
            <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">#</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Stock</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Shares</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Avg Price</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Current Price</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Exit Price</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Invested</th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y divide-gray-200" id="stockHoldingsTable">
                        <!-- Stock holdings will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Trading History Section -->
        <div class="bg-white rounded-lg shadow-md overflow-hidden mb-8">
            <div class="p-6 border-b border-gray-200">
                <h2 class="text-xl font-semibold text-gray-800">Trading History</h2>
            </div>
            <div class="overflow-x-auto">
                <table class="min-w-full divide-y divide-gray-200">
                    <thead class="bg-gray-50">
                        <tr>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Date</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Action</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Stock</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Shares</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Price</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Amount</th>
                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y divide-gray-200" id="tradingHistoryTable">
                        <!-- Trading history will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Portfolio Selection Rules Section -->
        <div class="bg-white rounded-lg shadow-md overflow-hidden mb-8">
            <div class="p-6 border-b border-gray-200">
                <h2 class="text-xl font-semibold text-gray-800">Portfolio Selection Rules</h2>
            </div>
            <div class="p-6">
                <div class="prose max-w-none">
                    <p>All stocks in this portfolio are selected based on strict criteria to maintain discipline in my trend following approach:</p>
                    <ol class="list-decimal pl-5 mt-2 space-y-2">
                        <li><strong>Technical Criteria:</strong>
                            <ul class="list-disc pl-5 mt-1">
                                <li>Price must be above 200-day moving average</li>
                                <li>Recent breakout from consolidation pattern</li>
                                <li>Volume confirmation on breakout</li>
                            </ul>
                        </li>
                        <li><strong>Fundamental Filters:</strong>
                            <ul class="list-disc pl-5 mt-1">
                                <li>Market cap > Rp 10 trillion</li>
                                <li>Positive earnings growth last 2 quarters</li>
                                <li>ROE > 15%</li>
                            </ul>
                        </li>
                        <li><strong>Position Management:</strong>
                            <ul class="list-disc pl-5 mt-1">
                                <li>Maximum 5% portfolio risk per position</li>
                                <li>Stop loss at 7-10% below entry</li>
                                <li>Profit targets at 1:2 or 1:3 risk-reward ratio</li>
                            </ul>
                        </li>
                    </ol>
                    <p class="mt-4">These rules are strictly followed to maintain consistency in the portfolio's performance.</p>
                </div>
            </div>
        </div>

        <!-- FAQ Section -->
        <div class="bg-white rounded-lg shadow-md overflow-hidden">
            <div class="p-6 border-b border-gray-200">
                <h2 class="text-xl font-semibold text-gray-800">Frequently Asked Questions</h2>
            </div>
            <div class="p-6">
                <div class="space-y-6">
                    <div>
                        <h3 class="text-lg font-medium text-gray-900">Why only 52 weeks for this portfolio?</h3>
                        <div class="mt-2 text-gray-600">
                            <p>I'm running this as a one-year experiment to test my trend following strategy in the Indonesian market. After 52 weeks, I'll evaluate the results and decide whether to continue, adjust, or close the portfolio.</p>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-lg font-medium text-gray-900">How often do you update positions?</h3>
                        <div class="mt-2 text-gray-600">
                            <p>Positions are reviewed weekly, but trades are only executed when technical signals meet all criteria. There may be weeks with no activity if market conditions don't present good opportunities.</p>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-lg font-medium text-gray-900">Do you use leverage in this portfolio?</h3>
                        <div class="mt-2 text-gray-600">
                            <p>No, this portfolio uses only cash positions with no margin or leverage. All trades are executed with settled funds to maintain conservative risk management.</p>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-lg font-medium text-gray-900">Can I replicate this portfolio?</h3>
                        <div class="mt-2 text-gray-600">
                            <p>This portfolio is for educational purposes only. While you can see my positions and rules, I don't recommend blindly copying trades. Always do your own research and consider your risk tolerance.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="bg-white border-t border-gray-200 mt-12">
        <div class="container mx-auto px-4 py-6">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <p class="text-sm text-gray-600">Â© 2023 Indonesia Stock Portfolio. All rights reserved.</p>
                </div>
                <div class="flex space-x-4">
                    <a href="#" class="text-gray-500 hover:text-primary">
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a href="#" class="text-gray-500 hover:text-primary">
                        <i class="fab fa-linkedin"></i>
                    </a>
                    <a href="#" class="text-gray-500 hover:text-primary">
                        <i class="fab fa-github"></i>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Portfolio data structure
        const portfolioData = {
            startingCapital: 216046582,
            currentCapital: 198638310,
            capitalHistory: [
                { week: 0, value: 200000000 },
                { week: 1, value: 198638310 }
            ],
            stocks: [
                {
                    id: 1,
                    code: "PGEO",
                    name: "Pertamina Geothermal Energy",
                    positions: [
                        {
                            positionId: 1,
                            shares: 143,
                            avgPrice: 1400,
                            currentPrice: 1420,
                            exitPrice: 0,
                            invested: 20050030,
                            status: "open"
                        },
                        {
                            positionId: 2,
                            shares: 200,
                            avgPrice: 7300,
                            currentPrice: 9100,
                            exitPrice: 0,
                            invested: 1460000,
                            status: "open"
                        }
                    ]
                },
                {
                    id: 2,
                    code: "TLKM",
                    name: "Telkom Indonesia",
                    positions: [
                        {
                            positionId: 1,
                            shares: 1000,
                            avgPrice: 3450,
                            currentPrice: 3800,
                            exitPrice: 0,
                            invested: 3450000,
                            status: "open"
                        }
                    ]
                },
                {
                    id: 3,
                    code: "UNVR",
                    name: "Unilever Indonesia",
                    positions: [
                        {
                            positionId: 1,
                            shares: 200,
                            avgPrice: 4500,
                            currentPrice: 5250,
                            exitPrice: 0,
                            invested: 900000,
                            status: "open"
                        }
                    ]
                }
            ],
            tradingHistory: [
                {
                    date: "2023-10-01",
                    action: "BUY",
                    stock: "BBCA",
                    shares: 300,
                    price: 7200,
                    amount: 2160000,
                    status: "executed"
                },
                {
                    date: "2023-10-15",
                    action: "BUY",
                    stock: "BBCA",
                    shares: 200,
                    price: 7300,
                    amount: 1460000,
                    status: "executed"
                },
                {
                    date: "2023-10-10",
                    action: "BUY",
                    stock: "TLKM",
                    shares: 1000,
                    price: 3450,
                    amount: 3450000,
                    status: "executed"
                },
                {
                    date: "2023-10-05",
                    action: "BUY",
                    stock: "UNVR",
                    shares: 200,
                    price: 4500,
                    amount: 900000,
                    status: "executed"
                },
                {
                    date: "2023-09-20",
                    action: "SELL",
                    stock: "BBRI",
                    shares: 500,
                    price: 4800,
                    amount: 2400000,
                    status: "executed"
                }
            ]
        };

        // Format currency
        function formatCurrency(amount) {
            return new Intl.NumberFormat('id-ID').format(amount);
        }

        // Render stock holdings table
        function renderStockHoldings() {
            const tableBody = document.getElementById('stockHoldingsTable');
            tableBody.innerHTML = '';
            
            let positionNumber = 1;
            
            portfolioData.stocks.forEach(stock => {
                stock.positions.forEach((position, index) => {
                    const row = document.createElement('tr');
                    row.className = 'hover:bg-gray-50';
                    
                    row.innerHTML = `
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">${positionNumber++}</td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <div class="flex items-center">
                                <div class="flex-shrink-0 h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center">
                                    <span class="text-blue-600 font-bold">${stock.code}</span>
                                </div>
                                <div class="ml-4">
                                    <div class="text-sm font-medium text-gray-900">${stock.name}</div>
                                    <div class="text-sm text-gray-500">IDX: ${stock.code}</div>
                                </div>
                            </div>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">${formatCurrency(position.shares)}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Rp ${formatCurrency(position.avgPrice)}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Rp ${formatCurrency(position.currentPrice)}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">${position.exitPrice > 0 ? 'Rp ' + formatCurrency(position.exitPrice) : '-'}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Rp ${formatCurrency(position.invested)}</td>
                    `;
                    
                    tableBody.appendChild(row);
                });
            });
        }

        // Render trading history table
        function renderTradingHistory() {
            const tableBody = document.getElementById('tradingHistoryTable');
            tableBody.innerHTML = '';
            
            portfolioData.tradingHistory.forEach(trade => {
                const row = document.createElement('tr');
                row.className = 'hover:bg-gray-50';
                
                row.innerHTML = `
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">${trade.date}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                        <span class="px-2 py-1 rounded-full ${trade.action === 'BUY' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}">
                            ${trade.action}
                        </span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">${trade.stock}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">${formatCurrency(trade.shares)}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Rp ${formatCurrency(trade.price)}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">Rp ${formatCurrency(trade.amount)}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                        <span class="px-2 py-1 rounded-full ${trade.status === 'executed' ? 'bg-blue-100 text-blue-800' : 'bg-yellow-100 text-yellow-800'}">
                            ${trade.status}
                        </span>
                    </td>
                `;
                
                tableBody.appendChild(row);
            });
        }

        // Render capital growth chart
        function renderCapitalGrowthChart() {
            const ctx = document.getElementById('capitalGrowthChart').getContext('2d');
            const chart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: portfolioData.capitalHistory.map(item => `Week ${item.week}`),
                    datasets: [{
                        label: 'Portfolio Value (Rp)',
                        data: portfolioData.capitalHistory.map(item => item.value),
                        backgroundColor: 'rgba(30, 64, 175, 0.1)',
                        borderColor: 'rgba(30, 64, 175, 1)',
                        borderWidth: 2,
                        tension: 0.3,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: false,
                            ticks: {
                                callback: function(value) {
                                    return 'Rp ' + (value / 1000000).toFixed(0) + 'M';
                                }
                            }
                        }
                    },
                    plugins: {
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return 'Rp ' + formatCurrency(context.raw);
                                }
                            }
                        }
                    }
                }
            });
        }

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            renderStockHoldings();
            renderTradingHistory();
            renderCapitalGrowthChart();
        });
    </script>
</body>
</html>
